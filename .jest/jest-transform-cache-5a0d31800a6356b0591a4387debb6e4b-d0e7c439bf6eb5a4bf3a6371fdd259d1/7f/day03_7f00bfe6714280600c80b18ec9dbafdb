228dede04eff2f8449c1c27bed16c23e
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part1 = part1;
exports.part2 = part2;

function step(x, y) {
  return pos => ({
    x: pos.x + x,
    y: pos.y + y
  });
}

const steps = {
  '<': step(-1, 0),
  '>': step(1, 0),
  '^': step(0, -1),
  v: step(0, 1)
};

function parse(input) {
  return input.split('').map(x => steps[x]);
}

function part1(input) {
  return parse(input).reduce((state, next) => {
    const pos = state.pos = next(state.pos);
    state.visited.add(`${pos.x}-${pos.y}`);
    return state;
  }, {
    visited: new Set().add('0-0'),
    pos: {
      x: 0,
      y: 0
    }
  }).visited.size;
}

function part2(input) {
  return parse(input).reduce((state, next, index) => {
    const turn = index % 2 === 0 ? 'santa' : 'robot';
    const pos = state.pos[turn] = next(state.pos[turn]);
    state.visited.add(`${pos.x}-${pos.y}`);
    return state;
  }, {
    visited: new Set().add('0-0'),
    pos: {
      santa: {
        x: 0,
        y: 0
      },
      robot: {
        x: 0,
        y: 0
      }
    }
  }).visited.size;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTAzLmpzIl0sIm5hbWVzIjpbInN0ZXAiLCJ4IiwieSIsInBvcyIsInN0ZXBzIiwidiIsInBhcnNlIiwiaW5wdXQiLCJzcGxpdCIsIm1hcCIsInBhcnQxIiwicmVkdWNlIiwic3RhdGUiLCJuZXh0IiwidmlzaXRlZCIsImFkZCIsIlNldCIsInNpemUiLCJwYXJ0MiIsImluZGV4IiwidHVybiIsInNhbnRhIiwicm9ib3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsU0FBU0EsSUFBVCxDQUFjQyxDQUFkLEVBQWlCQyxDQUFqQixFQUFvQjtBQUNsQixTQUFPQyxHQUFHLEtBQUs7QUFBRUYsSUFBQUEsQ0FBQyxFQUFFRSxHQUFHLENBQUNGLENBQUosR0FBUUEsQ0FBYjtBQUFnQkMsSUFBQUEsQ0FBQyxFQUFFQyxHQUFHLENBQUNELENBQUosR0FBUUE7QUFBM0IsR0FBTCxDQUFWO0FBQ0Q7O0FBRUQsTUFBTUUsS0FBSyxHQUFHO0FBQ1osT0FBS0osSUFBSSxDQUFDLENBQUMsQ0FBRixFQUFLLENBQUwsQ0FERztBQUVaLE9BQUtBLElBQUksQ0FBQyxDQUFELEVBQUksQ0FBSixDQUZHO0FBR1osT0FBS0EsSUFBSSxDQUFDLENBQUQsRUFBSSxDQUFDLENBQUwsQ0FIRztBQUlaSyxFQUFBQSxDQUFDLEVBQUVMLElBQUksQ0FBQyxDQUFELEVBQUksQ0FBSjtBQUpLLENBQWQ7O0FBT0EsU0FBU00sS0FBVCxDQUFlQyxLQUFmLEVBQXNCO0FBQ3BCLFNBQU9BLEtBQUssQ0FBQ0MsS0FBTixDQUFZLEVBQVosRUFBZ0JDLEdBQWhCLENBQW9CUixDQUFDLElBQUlHLEtBQUssQ0FBQ0gsQ0FBRCxDQUE5QixDQUFQO0FBQ0Q7O0FBRU0sU0FBU1MsS0FBVCxDQUFlSCxLQUFmLEVBQXNCO0FBQzNCLFNBQU9ELEtBQUssQ0FBQ0MsS0FBRCxDQUFMLENBQWFJLE1BQWIsQ0FDTCxDQUFDQyxLQUFELEVBQVFDLElBQVIsS0FBaUI7QUFDZixVQUFNVixHQUFHLEdBQUlTLEtBQUssQ0FBQ1QsR0FBTixHQUFZVSxJQUFJLENBQUNELEtBQUssQ0FBQ1QsR0FBUCxDQUE3QjtBQUNBUyxJQUFBQSxLQUFLLENBQUNFLE9BQU4sQ0FBY0MsR0FBZCxDQUFtQixHQUFFWixHQUFHLENBQUNGLENBQUUsSUFBR0UsR0FBRyxDQUFDRCxDQUFFLEVBQXBDO0FBQ0EsV0FBT1UsS0FBUDtBQUNELEdBTEksRUFNTDtBQUFFRSxJQUFBQSxPQUFPLEVBQUUsSUFBSUUsR0FBSixHQUFVRCxHQUFWLENBQWMsS0FBZCxDQUFYO0FBQWlDWixJQUFBQSxHQUFHLEVBQUU7QUFBRUYsTUFBQUEsQ0FBQyxFQUFFLENBQUw7QUFBUUMsTUFBQUEsQ0FBQyxFQUFFO0FBQVg7QUFBdEMsR0FOSyxFQU9MWSxPQVBLLENBT0dHLElBUFY7QUFRRDs7QUFFTSxTQUFTQyxLQUFULENBQWVYLEtBQWYsRUFBc0I7QUFDM0IsU0FBT0QsS0FBSyxDQUFDQyxLQUFELENBQUwsQ0FBYUksTUFBYixDQUNMLENBQUNDLEtBQUQsRUFBUUMsSUFBUixFQUFjTSxLQUFkLEtBQXdCO0FBQ3RCLFVBQU1DLElBQUksR0FBR0QsS0FBSyxHQUFHLENBQVIsS0FBYyxDQUFkLEdBQWtCLE9BQWxCLEdBQTRCLE9BQXpDO0FBQ0EsVUFBTWhCLEdBQUcsR0FBSVMsS0FBSyxDQUFDVCxHQUFOLENBQVVpQixJQUFWLElBQWtCUCxJQUFJLENBQUNELEtBQUssQ0FBQ1QsR0FBTixDQUFVaUIsSUFBVixDQUFELENBQW5DO0FBQ0FSLElBQUFBLEtBQUssQ0FBQ0UsT0FBTixDQUFjQyxHQUFkLENBQW1CLEdBQUVaLEdBQUcsQ0FBQ0YsQ0FBRSxJQUFHRSxHQUFHLENBQUNELENBQUUsRUFBcEM7QUFDQSxXQUFPVSxLQUFQO0FBQ0QsR0FOSSxFQU9MO0FBQ0VFLElBQUFBLE9BQU8sRUFBRSxJQUFJRSxHQUFKLEdBQVVELEdBQVYsQ0FBYyxLQUFkLENBRFg7QUFFRVosSUFBQUEsR0FBRyxFQUFFO0FBQUVrQixNQUFBQSxLQUFLLEVBQUU7QUFBRXBCLFFBQUFBLENBQUMsRUFBRSxDQUFMO0FBQVFDLFFBQUFBLENBQUMsRUFBRTtBQUFYLE9BQVQ7QUFBeUJvQixNQUFBQSxLQUFLLEVBQUU7QUFBRXJCLFFBQUFBLENBQUMsRUFBRSxDQUFMO0FBQVFDLFFBQUFBLENBQUMsRUFBRTtBQUFYO0FBQWhDO0FBRlAsR0FQSyxFQVdMWSxPQVhLLENBV0dHLElBWFY7QUFZRCIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHN0ZXAoeCwgeSkge1xuICByZXR1cm4gcG9zID0+ICh7IHg6IHBvcy54ICsgeCwgeTogcG9zLnkgKyB5IH0pO1xufVxuXG5jb25zdCBzdGVwcyA9IHtcbiAgJzwnOiBzdGVwKC0xLCAwKSxcbiAgJz4nOiBzdGVwKDEsIDApLFxuICAnXic6IHN0ZXAoMCwgLTEpLFxuICB2OiBzdGVwKDAsIDEpLFxufTtcblxuZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgcmV0dXJuIGlucHV0LnNwbGl0KCcnKS5tYXAoeCA9PiBzdGVwc1t4XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJ0MShpbnB1dCkge1xuICByZXR1cm4gcGFyc2UoaW5wdXQpLnJlZHVjZShcbiAgICAoc3RhdGUsIG5leHQpID0+IHtcbiAgICAgIGNvbnN0IHBvcyA9IChzdGF0ZS5wb3MgPSBuZXh0KHN0YXRlLnBvcykpO1xuICAgICAgc3RhdGUudmlzaXRlZC5hZGQoYCR7cG9zLnh9LSR7cG9zLnl9YCk7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSxcbiAgICB7IHZpc2l0ZWQ6IG5ldyBTZXQoKS5hZGQoJzAtMCcpLCBwb3M6IHsgeDogMCwgeTogMCB9IH0sXG4gICkudmlzaXRlZC5zaXplO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydDIoaW5wdXQpIHtcbiAgcmV0dXJuIHBhcnNlKGlucHV0KS5yZWR1Y2UoXG4gICAgKHN0YXRlLCBuZXh0LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgdHVybiA9IGluZGV4ICUgMiA9PT0gMCA/ICdzYW50YScgOiAncm9ib3QnO1xuICAgICAgY29uc3QgcG9zID0gKHN0YXRlLnBvc1t0dXJuXSA9IG5leHQoc3RhdGUucG9zW3R1cm5dKSk7XG4gICAgICBzdGF0ZS52aXNpdGVkLmFkZChgJHtwb3MueH0tJHtwb3MueX1gKTtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIHtcbiAgICAgIHZpc2l0ZWQ6IG5ldyBTZXQoKS5hZGQoJzAtMCcpLFxuICAgICAgcG9zOiB7IHNhbnRhOiB7IHg6IDAsIHk6IDAgfSwgcm9ib3Q6IHsgeDogMCwgeTogMCB9IH0sXG4gICAgfSxcbiAgKS52aXNpdGVkLnNpemU7XG59XG4iXX0=