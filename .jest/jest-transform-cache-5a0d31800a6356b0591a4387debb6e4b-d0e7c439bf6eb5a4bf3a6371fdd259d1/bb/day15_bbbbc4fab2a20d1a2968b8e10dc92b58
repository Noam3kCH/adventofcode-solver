fc5b91c0a68d7ed95a81a82574aefa83
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part2 = exports.part1 = void 0;

function next(x, factor, validator) {
  do {
    x = x * factor % 2147483647;
  } while (x % validator !== 0);

  return x;
}

function judge(a, b, validators, times) {
  let count = 0;

  for (let i = 0; i < times; i++) {
    a = next(a, 16807, validators[0]);
    b = next(b, 48271, validators[1]);

    if (a % 65536 === b % 65536) {
      count++;
    }
  }

  return count;
}

function parse(input) {
  return input.split('\n').map(x => parseInt(x.match(/\d+$/).pop(), 10));
}

const part1 = (input, times = 4e7) => judge(...parse(input), [1, 1], times);

exports.part1 = part1;

const part2 = (input, times = 5e6) => judge(...parse(input), [4, 8], times);

exports.part2 = part2;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTE1LmpzIl0sIm5hbWVzIjpbIm5leHQiLCJ4IiwiZmFjdG9yIiwidmFsaWRhdG9yIiwianVkZ2UiLCJhIiwiYiIsInZhbGlkYXRvcnMiLCJ0aW1lcyIsImNvdW50IiwiaSIsInBhcnNlIiwiaW5wdXQiLCJzcGxpdCIsIm1hcCIsInBhcnNlSW50IiwibWF0Y2giLCJwb3AiLCJwYXJ0MSIsInBhcnQyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsU0FBU0EsSUFBVCxDQUFjQyxDQUFkLEVBQWlCQyxNQUFqQixFQUF5QkMsU0FBekIsRUFBb0M7QUFDbEMsS0FBRztBQUNERixJQUFBQSxDQUFDLEdBQUlBLENBQUMsR0FBR0MsTUFBTCxHQUFlLFVBQW5CO0FBQ0QsR0FGRCxRQUVTRCxDQUFDLEdBQUdFLFNBQUosS0FBa0IsQ0FGM0I7O0FBR0EsU0FBT0YsQ0FBUDtBQUNEOztBQUVELFNBQVNHLEtBQVQsQ0FBZUMsQ0FBZixFQUFrQkMsQ0FBbEIsRUFBcUJDLFVBQXJCLEVBQWlDQyxLQUFqQyxFQUF3QztBQUN0QyxNQUFJQyxLQUFLLEdBQUcsQ0FBWjs7QUFDQSxPQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdGLEtBQXBCLEVBQTJCRSxDQUFDLEVBQTVCLEVBQWdDO0FBQzlCTCxJQUFBQSxDQUFDLEdBQUdMLElBQUksQ0FBQ0ssQ0FBRCxFQUFJLEtBQUosRUFBV0UsVUFBVSxDQUFDLENBQUQsQ0FBckIsQ0FBUjtBQUNBRCxJQUFBQSxDQUFDLEdBQUdOLElBQUksQ0FBQ00sQ0FBRCxFQUFJLEtBQUosRUFBV0MsVUFBVSxDQUFDLENBQUQsQ0FBckIsQ0FBUjs7QUFDQSxRQUFJRixDQUFDLEdBQUcsS0FBSixLQUFjQyxDQUFDLEdBQUcsS0FBdEIsRUFBNkI7QUFDM0JHLE1BQUFBLEtBQUs7QUFDTjtBQUNGOztBQUNELFNBQU9BLEtBQVA7QUFDRDs7QUFFRCxTQUFTRSxLQUFULENBQWVDLEtBQWYsRUFBc0I7QUFDcEIsU0FBT0EsS0FBSyxDQUFDQyxLQUFOLENBQVksSUFBWixFQUFrQkMsR0FBbEIsQ0FBc0JiLENBQUMsSUFBSWMsUUFBUSxDQUFDZCxDQUFDLENBQUNlLEtBQUYsQ0FBUSxNQUFSLEVBQWdCQyxHQUFoQixFQUFELEVBQXdCLEVBQXhCLENBQW5DLENBQVA7QUFDRDs7QUFFTSxNQUFNQyxLQUFLLEdBQUcsQ0FBQ04sS0FBRCxFQUFRSixLQUFLLEdBQUcsR0FBaEIsS0FDbkJKLEtBQUssQ0FBQyxHQUFHTyxLQUFLLENBQUNDLEtBQUQsQ0FBVCxFQUFrQixDQUFDLENBQUQsRUFBSSxDQUFKLENBQWxCLEVBQTBCSixLQUExQixDQURBOzs7O0FBRUEsTUFBTVcsS0FBSyxHQUFHLENBQUNQLEtBQUQsRUFBUUosS0FBSyxHQUFHLEdBQWhCLEtBQ25CSixLQUFLLENBQUMsR0FBR08sS0FBSyxDQUFDQyxLQUFELENBQVQsRUFBa0IsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFsQixFQUEwQkosS0FBMUIsQ0FEQSIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG5leHQoeCwgZmFjdG9yLCB2YWxpZGF0b3IpIHtcbiAgZG8ge1xuICAgIHggPSAoeCAqIGZhY3RvcikgJSAyMTQ3NDgzNjQ3O1xuICB9IHdoaWxlICh4ICUgdmFsaWRhdG9yICE9PSAwKTtcbiAgcmV0dXJuIHg7XG59XG5cbmZ1bmN0aW9uIGp1ZGdlKGEsIGIsIHZhbGlkYXRvcnMsIHRpbWVzKSB7XG4gIGxldCBjb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGltZXM7IGkrKykge1xuICAgIGEgPSBuZXh0KGEsIDE2ODA3LCB2YWxpZGF0b3JzWzBdKTtcbiAgICBiID0gbmV4dChiLCA0ODI3MSwgdmFsaWRhdG9yc1sxXSk7XG4gICAgaWYgKGEgJSA2NTUzNiA9PT0gYiAlIDY1NTM2KSB7XG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY291bnQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5zcGxpdCgnXFxuJykubWFwKHggPT4gcGFyc2VJbnQoeC5tYXRjaCgvXFxkKyQvKS5wb3AoKSwgMTApKTtcbn1cblxuZXhwb3J0IGNvbnN0IHBhcnQxID0gKGlucHV0LCB0aW1lcyA9IDRlNykgPT5cbiAganVkZ2UoLi4ucGFyc2UoaW5wdXQpLCBbMSwgMV0sIHRpbWVzKTtcbmV4cG9ydCBjb25zdCBwYXJ0MiA9IChpbnB1dCwgdGltZXMgPSA1ZTYpID0+XG4gIGp1ZGdlKC4uLnBhcnNlKGlucHV0KSwgWzQsIDhdLCB0aW1lcyk7XG4iXX0=