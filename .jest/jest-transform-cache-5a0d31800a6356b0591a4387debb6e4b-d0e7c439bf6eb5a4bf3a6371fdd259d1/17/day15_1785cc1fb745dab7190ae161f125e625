95424fdf5611a92f4367ddd911464c88
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part1 = part1;
exports.part2 = part2;

function parse(input) {
  return input.split('\n').map(x => {
    const matches = x.match(/^Disc #(\d+) has (\d+) positions; at time=0, it is at position (\d+)\./);
    const [, index, positions, initial] = matches.map(x => parseInt(x));
    return {
      index,
      positions,
      initial
    };
  });
}

function solve(discs) {
  const biggest = discs.slice(0).sort().shift();
  let time = biggest.positions - biggest.initial - biggest.index;

  const fit = disc => (time + disc.initial + disc.index) % disc.positions !== 0;

  while (discs.some(fit)) {
    time += biggest.positions;
  }

  return time;
}

function part1(input) {
  return solve(parse(input));
}

function part2(input) {
  const discs = parse(input);
  return solve(discs.concat([{
    index: discs.length + 1,
    positions: 11,
    initial: 0
  }]));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTE1LmpzIl0sIm5hbWVzIjpbInBhcnNlIiwiaW5wdXQiLCJzcGxpdCIsIm1hcCIsIngiLCJtYXRjaGVzIiwibWF0Y2giLCJpbmRleCIsInBvc2l0aW9ucyIsImluaXRpYWwiLCJwYXJzZUludCIsInNvbHZlIiwiZGlzY3MiLCJiaWdnZXN0Iiwic2xpY2UiLCJzb3J0Iiwic2hpZnQiLCJ0aW1lIiwiZml0IiwiZGlzYyIsInNvbWUiLCJwYXJ0MSIsInBhcnQyIiwiY29uY2F0IiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLFNBQVNBLEtBQVQsQ0FBZUMsS0FBZixFQUFzQjtBQUNwQixTQUFPQSxLQUFLLENBQUNDLEtBQU4sQ0FBWSxJQUFaLEVBQWtCQyxHQUFsQixDQUFzQkMsQ0FBQyxJQUFJO0FBQ2hDLFVBQU1DLE9BQU8sR0FBR0QsQ0FBQyxDQUFDRSxLQUFGLENBQ2Qsd0VBRGMsQ0FBaEI7QUFHQSxVQUFNLEdBQUdDLEtBQUgsRUFBVUMsU0FBVixFQUFxQkMsT0FBckIsSUFBZ0NKLE9BQU8sQ0FBQ0YsR0FBUixDQUFZQyxDQUFDLElBQUlNLFFBQVEsQ0FBQ04sQ0FBRCxDQUF6QixDQUF0QztBQUNBLFdBQU87QUFBRUcsTUFBQUEsS0FBRjtBQUFTQyxNQUFBQSxTQUFUO0FBQW9CQyxNQUFBQTtBQUFwQixLQUFQO0FBQ0QsR0FOTSxDQUFQO0FBT0Q7O0FBRUQsU0FBU0UsS0FBVCxDQUFlQyxLQUFmLEVBQXNCO0FBQ3BCLFFBQU1DLE9BQU8sR0FBR0QsS0FBSyxDQUNsQkUsS0FEYSxDQUNQLENBRE8sRUFFYkMsSUFGYSxHQUdiQyxLQUhhLEVBQWhCO0FBSUEsTUFBSUMsSUFBSSxHQUFHSixPQUFPLENBQUNMLFNBQVIsR0FBb0JLLE9BQU8sQ0FBQ0osT0FBNUIsR0FBc0NJLE9BQU8sQ0FBQ04sS0FBekQ7O0FBQ0EsUUFBTVcsR0FBRyxHQUFHQyxJQUFJLElBQUksQ0FBQ0YsSUFBSSxHQUFHRSxJQUFJLENBQUNWLE9BQVosR0FBc0JVLElBQUksQ0FBQ1osS0FBNUIsSUFBcUNZLElBQUksQ0FBQ1gsU0FBMUMsS0FBd0QsQ0FBNUU7O0FBQ0EsU0FBT0ksS0FBSyxDQUFDUSxJQUFOLENBQVdGLEdBQVgsQ0FBUCxFQUF3QjtBQUN0QkQsSUFBQUEsSUFBSSxJQUFJSixPQUFPLENBQUNMLFNBQWhCO0FBQ0Q7O0FBQ0QsU0FBT1MsSUFBUDtBQUNEOztBQUVNLFNBQVNJLEtBQVQsQ0FBZXBCLEtBQWYsRUFBc0I7QUFDM0IsU0FBT1UsS0FBSyxDQUFDWCxLQUFLLENBQUNDLEtBQUQsQ0FBTixDQUFaO0FBQ0Q7O0FBRU0sU0FBU3FCLEtBQVQsQ0FBZXJCLEtBQWYsRUFBc0I7QUFDM0IsUUFBTVcsS0FBSyxHQUFHWixLQUFLLENBQUNDLEtBQUQsQ0FBbkI7QUFDQSxTQUFPVSxLQUFLLENBQ1ZDLEtBQUssQ0FBQ1csTUFBTixDQUFhLENBQUM7QUFBRWhCLElBQUFBLEtBQUssRUFBRUssS0FBSyxDQUFDWSxNQUFOLEdBQWUsQ0FBeEI7QUFBMkJoQixJQUFBQSxTQUFTLEVBQUUsRUFBdEM7QUFBMENDLElBQUFBLE9BQU8sRUFBRTtBQUFuRCxHQUFELENBQWIsQ0FEVSxDQUFaO0FBR0QiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBwYXJzZShpbnB1dCkge1xuICByZXR1cm4gaW5wdXQuc3BsaXQoJ1xcbicpLm1hcCh4ID0+IHtcbiAgICBjb25zdCBtYXRjaGVzID0geC5tYXRjaChcbiAgICAgIC9eRGlzYyAjKFxcZCspIGhhcyAoXFxkKykgcG9zaXRpb25zOyBhdCB0aW1lPTAsIGl0IGlzIGF0IHBvc2l0aW9uIChcXGQrKVxcLi8sXG4gICAgKTtcbiAgICBjb25zdCBbLCBpbmRleCwgcG9zaXRpb25zLCBpbml0aWFsXSA9IG1hdGNoZXMubWFwKHggPT4gcGFyc2VJbnQoeCkpO1xuICAgIHJldHVybiB7IGluZGV4LCBwb3NpdGlvbnMsIGluaXRpYWwgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNvbHZlKGRpc2NzKSB7XG4gIGNvbnN0IGJpZ2dlc3QgPSBkaXNjc1xuICAgIC5zbGljZSgwKVxuICAgIC5zb3J0KClcbiAgICAuc2hpZnQoKTtcbiAgbGV0IHRpbWUgPSBiaWdnZXN0LnBvc2l0aW9ucyAtIGJpZ2dlc3QuaW5pdGlhbCAtIGJpZ2dlc3QuaW5kZXg7XG4gIGNvbnN0IGZpdCA9IGRpc2MgPT4gKHRpbWUgKyBkaXNjLmluaXRpYWwgKyBkaXNjLmluZGV4KSAlIGRpc2MucG9zaXRpb25zICE9PSAwO1xuICB3aGlsZSAoZGlzY3Muc29tZShmaXQpKSB7XG4gICAgdGltZSArPSBiaWdnZXN0LnBvc2l0aW9ucztcbiAgfVxuICByZXR1cm4gdGltZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnQxKGlucHV0KSB7XG4gIHJldHVybiBzb2x2ZShwYXJzZShpbnB1dCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydDIoaW5wdXQpIHtcbiAgY29uc3QgZGlzY3MgPSBwYXJzZShpbnB1dCk7XG4gIHJldHVybiBzb2x2ZShcbiAgICBkaXNjcy5jb25jYXQoW3sgaW5kZXg6IGRpc2NzLmxlbmd0aCArIDEsIHBvc2l0aW9uczogMTEsIGluaXRpYWw6IDAgfV0pLFxuICApO1xufVxuIl19