746a5331c1b2bb7b62bb35c00dd6f841
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part2 = exports.part1 = void 0;

function parse(input) {
  return input.split('\n').map(line => {
    const [depth, range] = line.split(': ').map(x => parseInt(x));
    return {
      depth,
      range
    };
  });
}

function severity(scanners, t = 0) {
  return scanners.reduce((total, scanner) => {
    if ((t + scanner.depth) % (scanner.range + scanner.range - 2) === 0) {
      return Math.max(0, total) + scanner.depth * scanner.range;
    } else {
      return total;
    }
  }, -1);
}

function solve(scanners) {
  let i = 0;

  while (severity(scanners, i) !== -1) {
    i++;
  }

  return i;
}

const part1 = input => severity(parse(input));

exports.part1 = part1;

const part2 = input => solve(parse(input));

exports.part2 = part2;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTEzLmpzIl0sIm5hbWVzIjpbInBhcnNlIiwiaW5wdXQiLCJzcGxpdCIsIm1hcCIsImxpbmUiLCJkZXB0aCIsInJhbmdlIiwieCIsInBhcnNlSW50Iiwic2V2ZXJpdHkiLCJzY2FubmVycyIsInQiLCJyZWR1Y2UiLCJ0b3RhbCIsInNjYW5uZXIiLCJNYXRoIiwibWF4Iiwic29sdmUiLCJpIiwicGFydDEiLCJwYXJ0MiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVNBLEtBQVQsQ0FBZUMsS0FBZixFQUFzQjtBQUNwQixTQUFPQSxLQUFLLENBQUNDLEtBQU4sQ0FBWSxJQUFaLEVBQWtCQyxHQUFsQixDQUFzQkMsSUFBSSxJQUFJO0FBQ25DLFVBQU0sQ0FBQ0MsS0FBRCxFQUFRQyxLQUFSLElBQWlCRixJQUFJLENBQUNGLEtBQUwsQ0FBVyxJQUFYLEVBQWlCQyxHQUFqQixDQUFxQkksQ0FBQyxJQUFJQyxRQUFRLENBQUNELENBQUQsQ0FBbEMsQ0FBdkI7QUFDQSxXQUFPO0FBQUVGLE1BQUFBLEtBQUY7QUFBU0MsTUFBQUE7QUFBVCxLQUFQO0FBQ0QsR0FITSxDQUFQO0FBSUQ7O0FBRUQsU0FBU0csUUFBVCxDQUFrQkMsUUFBbEIsRUFBNEJDLENBQUMsR0FBRyxDQUFoQyxFQUFtQztBQUNqQyxTQUFPRCxRQUFRLENBQUNFLE1BQVQsQ0FBZ0IsQ0FBQ0MsS0FBRCxFQUFRQyxPQUFSLEtBQW9CO0FBQ3pDLFFBQUksQ0FBQ0gsQ0FBQyxHQUFHRyxPQUFPLENBQUNULEtBQWIsS0FBdUJTLE9BQU8sQ0FBQ1IsS0FBUixHQUFnQlEsT0FBTyxDQUFDUixLQUF4QixHQUFnQyxDQUF2RCxNQUE4RCxDQUFsRSxFQUFxRTtBQUNuRSxhQUFPUyxJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVlILEtBQVosSUFBcUJDLE9BQU8sQ0FBQ1QsS0FBUixHQUFnQlMsT0FBTyxDQUFDUixLQUFwRDtBQUNELEtBRkQsTUFFTztBQUNMLGFBQU9PLEtBQVA7QUFDRDtBQUNGLEdBTk0sRUFNSixDQUFDLENBTkcsQ0FBUDtBQU9EOztBQUVELFNBQVNJLEtBQVQsQ0FBZVAsUUFBZixFQUF5QjtBQUN2QixNQUFJUSxDQUFDLEdBQUcsQ0FBUjs7QUFDQSxTQUFPVCxRQUFRLENBQUNDLFFBQUQsRUFBV1EsQ0FBWCxDQUFSLEtBQTBCLENBQUMsQ0FBbEMsRUFBcUM7QUFDbkNBLElBQUFBLENBQUM7QUFDRjs7QUFDRCxTQUFPQSxDQUFQO0FBQ0Q7O0FBRU0sTUFBTUMsS0FBSyxHQUFHbEIsS0FBSyxJQUFJUSxRQUFRLENBQUNULEtBQUssQ0FBQ0MsS0FBRCxDQUFOLENBQS9COzs7O0FBQ0EsTUFBTW1CLEtBQUssR0FBR25CLEtBQUssSUFBSWdCLEtBQUssQ0FBQ2pCLEtBQUssQ0FBQ0MsS0FBRCxDQUFOLENBQTVCIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgcmV0dXJuIGlucHV0LnNwbGl0KCdcXG4nKS5tYXAobGluZSA9PiB7XG4gICAgY29uc3QgW2RlcHRoLCByYW5nZV0gPSBsaW5lLnNwbGl0KCc6ICcpLm1hcCh4ID0+IHBhcnNlSW50KHgpKTtcbiAgICByZXR1cm4geyBkZXB0aCwgcmFuZ2UgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldmVyaXR5KHNjYW5uZXJzLCB0ID0gMCkge1xuICByZXR1cm4gc2Nhbm5lcnMucmVkdWNlKCh0b3RhbCwgc2Nhbm5lcikgPT4ge1xuICAgIGlmICgodCArIHNjYW5uZXIuZGVwdGgpICUgKHNjYW5uZXIucmFuZ2UgKyBzY2FubmVyLnJhbmdlIC0gMikgPT09IDApIHtcbiAgICAgIHJldHVybiBNYXRoLm1heCgwLCB0b3RhbCkgKyBzY2FubmVyLmRlcHRoICogc2Nhbm5lci5yYW5nZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH1cbiAgfSwgLTEpO1xufVxuXG5mdW5jdGlvbiBzb2x2ZShzY2FubmVycykge1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChzZXZlcml0eShzY2FubmVycywgaSkgIT09IC0xKSB7XG4gICAgaSsrO1xuICB9XG4gIHJldHVybiBpO1xufVxuXG5leHBvcnQgY29uc3QgcGFydDEgPSBpbnB1dCA9PiBzZXZlcml0eShwYXJzZShpbnB1dCkpO1xuZXhwb3J0IGNvbnN0IHBhcnQyID0gaW5wdXQgPT4gc29sdmUocGFyc2UoaW5wdXQpKTtcbiJdfQ==