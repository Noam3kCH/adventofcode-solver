{"version":3,"sources":["day23.js"],"names":["operations","hlf","state","p1","next","tpl","inc","jmp","jie","p2","jio","run","instructions","curr","op","parse","input","split","map","x","match","parseInt","part1","a","b","part2"],"mappings":"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","sourcesContent":["const operations = {\n  hlf: (state, p1) => ({ ...state, [p1]: state[p1] / 2, next: state.next + 1 }),\n  tpl: (state, p1) => ({ ...state, [p1]: state[p1] * 3, next: state.next + 1 }),\n  inc: (state, p1) => ({ ...state, [p1]: state[p1] + 1, next: state.next + 1 }),\n  jmp: (state, p1) => ({ ...state, next: state.next + p1 }),\n  jie: (state, p1, p2) => ({\n    ...state,\n    next: state.next + (state[p1] % 2 ? 1 : p2),\n  }),\n  jio: (state, p1, p2) => ({\n    ...state,\n    next: state.next + (state[p1] !== 1 ? 1 : p2),\n  }),\n};\n\nfunction run(state, instructions) {\n  while (instructions[state.next]) {\n    const curr = instructions[state.next];\n    state = operations[curr.op](state, curr.p1, curr.p2);\n  }\n  return state;\n}\n\nfunction parse(input) {\n  return input\n    .split('\\n')\n    .map(x => {\n      return x\n        .match(/^(\\w+) ([\\w+-]+)(?:, ([\\w+-]+))?$/)\n        .map(x => (x && x.match(/^[+-]/) ? parseInt(x) : x));\n    })\n    .map(x => ({ op: x[1], p1: x[2], p2: x[3] }));\n}\n\nexport const part1 = input => run({ a: 0, b: 0, next: 0 }, parse(input)).b;\nexport const part2 = input => run({ a: 1, b: 0, next: 0 }, parse(input)).b;\n"]}