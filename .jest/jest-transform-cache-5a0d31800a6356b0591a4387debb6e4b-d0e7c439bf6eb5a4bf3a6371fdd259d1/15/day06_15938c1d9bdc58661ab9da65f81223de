42317de8f3d6d6b8d90f51d3bd28cabc
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.day = day;

function day(input) {
  const banks = input.split(/\s+/).map(x => parseInt(x));
  const memory = {};
  let rounds = 0;

  while (memory[banks.join('-')] === undefined) {
    memory[banks.join('-')] = rounds;
    rounds++;
    const iterator = banks.reduce((biggest, x, i, arr) => x > arr[biggest] ? i : biggest, 0);
    const blocks = banks.splice(iterator, 1, 0).pop();

    for (let i = 0; i < banks.length; i++) {
      banks[i] += Math.floor(blocks / banks.length);

      if ((i - iterator + banks.length) % banks.length <= blocks % banks.length && i !== iterator) {
        banks[i]++;
      }
    }
  }

  const part1 = rounds;
  const part2 = rounds - memory[banks.join('-')];
  return {
    part1,
    part2
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTA2LmpzIl0sIm5hbWVzIjpbImRheSIsImlucHV0IiwiYmFua3MiLCJzcGxpdCIsIm1hcCIsIngiLCJwYXJzZUludCIsIm1lbW9yeSIsInJvdW5kcyIsImpvaW4iLCJ1bmRlZmluZWQiLCJpdGVyYXRvciIsInJlZHVjZSIsImJpZ2dlc3QiLCJpIiwiYXJyIiwiYmxvY2tzIiwic3BsaWNlIiwicG9wIiwibGVuZ3RoIiwiTWF0aCIsImZsb29yIiwicGFydDEiLCJwYXJ0MiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLFNBQVNBLEdBQVQsQ0FBYUMsS0FBYixFQUFvQjtBQUN6QixRQUFNQyxLQUFLLEdBQUdELEtBQUssQ0FBQ0UsS0FBTixDQUFZLEtBQVosRUFBbUJDLEdBQW5CLENBQXVCQyxDQUFDLElBQUlDLFFBQVEsQ0FBQ0QsQ0FBRCxDQUFwQyxDQUFkO0FBQ0EsUUFBTUUsTUFBTSxHQUFHLEVBQWY7QUFDQSxNQUFJQyxNQUFNLEdBQUcsQ0FBYjs7QUFDQSxTQUFPRCxNQUFNLENBQUNMLEtBQUssQ0FBQ08sSUFBTixDQUFXLEdBQVgsQ0FBRCxDQUFOLEtBQTRCQyxTQUFuQyxFQUE4QztBQUM1Q0gsSUFBQUEsTUFBTSxDQUFDTCxLQUFLLENBQUNPLElBQU4sQ0FBVyxHQUFYLENBQUQsQ0FBTixHQUEwQkQsTUFBMUI7QUFDQUEsSUFBQUEsTUFBTTtBQUVOLFVBQU1HLFFBQVEsR0FBR1QsS0FBSyxDQUFDVSxNQUFOLENBQ2YsQ0FBQ0MsT0FBRCxFQUFVUixDQUFWLEVBQWFTLENBQWIsRUFBZ0JDLEdBQWhCLEtBQXlCVixDQUFDLEdBQUdVLEdBQUcsQ0FBQ0YsT0FBRCxDQUFQLEdBQW1CQyxDQUFuQixHQUF1QkQsT0FEakMsRUFFZixDQUZlLENBQWpCO0FBSUEsVUFBTUcsTUFBTSxHQUFHZCxLQUFLLENBQUNlLE1BQU4sQ0FBYU4sUUFBYixFQUF1QixDQUF2QixFQUEwQixDQUExQixFQUE2Qk8sR0FBN0IsRUFBZjs7QUFDQSxTQUFLLElBQUlKLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdaLEtBQUssQ0FBQ2lCLE1BQTFCLEVBQWtDTCxDQUFDLEVBQW5DLEVBQXVDO0FBQ3JDWixNQUFBQSxLQUFLLENBQUNZLENBQUQsQ0FBTCxJQUFZTSxJQUFJLENBQUNDLEtBQUwsQ0FBV0wsTUFBTSxHQUFHZCxLQUFLLENBQUNpQixNQUExQixDQUFaOztBQUNBLFVBQ0UsQ0FBQ0wsQ0FBQyxHQUFHSCxRQUFKLEdBQWVULEtBQUssQ0FBQ2lCLE1BQXRCLElBQWdDakIsS0FBSyxDQUFDaUIsTUFBdEMsSUFBZ0RILE1BQU0sR0FBR2QsS0FBSyxDQUFDaUIsTUFBL0QsSUFDQUwsQ0FBQyxLQUFLSCxRQUZSLEVBR0U7QUFDQVQsUUFBQUEsS0FBSyxDQUFDWSxDQUFELENBQUw7QUFDRDtBQUNGO0FBQ0Y7O0FBQ0QsUUFBTVEsS0FBSyxHQUFHZCxNQUFkO0FBQ0EsUUFBTWUsS0FBSyxHQUFHZixNQUFNLEdBQUdELE1BQU0sQ0FBQ0wsS0FBSyxDQUFDTyxJQUFOLENBQVcsR0FBWCxDQUFELENBQTdCO0FBQ0EsU0FBTztBQUFFYSxJQUFBQSxLQUFGO0FBQVNDLElBQUFBO0FBQVQsR0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGRheShpbnB1dCkge1xuICBjb25zdCBiYW5rcyA9IGlucHV0LnNwbGl0KC9cXHMrLykubWFwKHggPT4gcGFyc2VJbnQoeCkpO1xuICBjb25zdCBtZW1vcnkgPSB7fTtcbiAgbGV0IHJvdW5kcyA9IDA7XG4gIHdoaWxlIChtZW1vcnlbYmFua3Muam9pbignLScpXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbWVtb3J5W2JhbmtzLmpvaW4oJy0nKV0gPSByb3VuZHM7XG4gICAgcm91bmRzKys7XG5cbiAgICBjb25zdCBpdGVyYXRvciA9IGJhbmtzLnJlZHVjZShcbiAgICAgIChiaWdnZXN0LCB4LCBpLCBhcnIpID0+ICh4ID4gYXJyW2JpZ2dlc3RdID8gaSA6IGJpZ2dlc3QpLFxuICAgICAgMCxcbiAgICApO1xuICAgIGNvbnN0IGJsb2NrcyA9IGJhbmtzLnNwbGljZShpdGVyYXRvciwgMSwgMCkucG9wKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgYmFua3NbaV0gKz0gTWF0aC5mbG9vcihibG9ja3MgLyBiYW5rcy5sZW5ndGgpO1xuICAgICAgaWYgKFxuICAgICAgICAoaSAtIGl0ZXJhdG9yICsgYmFua3MubGVuZ3RoKSAlIGJhbmtzLmxlbmd0aCA8PSBibG9ja3MgJSBiYW5rcy5sZW5ndGggJiZcbiAgICAgICAgaSAhPT0gaXRlcmF0b3JcbiAgICAgICkge1xuICAgICAgICBiYW5rc1tpXSsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBwYXJ0MSA9IHJvdW5kcztcbiAgY29uc3QgcGFydDIgPSByb3VuZHMgLSBtZW1vcnlbYmFua3Muam9pbignLScpXTtcbiAgcmV0dXJuIHsgcGFydDEsIHBhcnQyIH07XG59XG4iXX0=