44920e4c04695a0fad866fd06c29b812
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part2 = exports.part1 = void 0;

function parse(input) {
  return input.split('\n').reduce((obj, line) => {
    const [key, neighbors] = line.split(' <-> ');
    return { ...obj,
      [key]: neighbors.split(', ')
    };
  }, {});
}

function count(graph, key, visited = new Set()) {
  visited.add(key);
  graph[key].filter(x => !visited.has(x)).forEach(x => count(graph, x, visited));
  return visited;
}

function countGroups(graph) {
  let groups = 0;
  const visited = new Set();
  Object.keys(graph).forEach(x => {
    if (!visited.has(x)) {
      groups++;
      count(graph, x, visited);
    }
  });
  return groups;
}

const part1 = input => count(parse(input), '0').size;

exports.part1 = part1;

const part2 = input => countGroups(parse(input));

exports.part2 = part2;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTEyLmpzIl0sIm5hbWVzIjpbInBhcnNlIiwiaW5wdXQiLCJzcGxpdCIsInJlZHVjZSIsIm9iaiIsImxpbmUiLCJrZXkiLCJuZWlnaGJvcnMiLCJjb3VudCIsImdyYXBoIiwidmlzaXRlZCIsIlNldCIsImFkZCIsImZpbHRlciIsIngiLCJoYXMiLCJmb3JFYWNoIiwiY291bnRHcm91cHMiLCJncm91cHMiLCJPYmplY3QiLCJrZXlzIiwicGFydDEiLCJzaXplIiwicGFydDIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFTQSxLQUFULENBQWVDLEtBQWYsRUFBc0I7QUFDcEIsU0FBT0EsS0FBSyxDQUFDQyxLQUFOLENBQVksSUFBWixFQUFrQkMsTUFBbEIsQ0FBeUIsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDN0MsVUFBTSxDQUFDQyxHQUFELEVBQU1DLFNBQU4sSUFBbUJGLElBQUksQ0FBQ0gsS0FBTCxDQUFXLE9BQVgsQ0FBekI7QUFDQSxXQUFPLEVBQUUsR0FBR0UsR0FBTDtBQUFVLE9BQUNFLEdBQUQsR0FBT0MsU0FBUyxDQUFDTCxLQUFWLENBQWdCLElBQWhCO0FBQWpCLEtBQVA7QUFDRCxHQUhNLEVBR0osRUFISSxDQUFQO0FBSUQ7O0FBRUQsU0FBU00sS0FBVCxDQUFlQyxLQUFmLEVBQXNCSCxHQUF0QixFQUEyQkksT0FBTyxHQUFHLElBQUlDLEdBQUosRUFBckMsRUFBZ0Q7QUFDOUNELEVBQUFBLE9BQU8sQ0FBQ0UsR0FBUixDQUFZTixHQUFaO0FBQ0FHLEVBQUFBLEtBQUssQ0FBQ0gsR0FBRCxDQUFMLENBQ0dPLE1BREgsQ0FDVUMsQ0FBQyxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ssR0FBUixDQUFZRCxDQUFaLENBRGhCLEVBRUdFLE9BRkgsQ0FFV0YsQ0FBQyxJQUFJTixLQUFLLENBQUNDLEtBQUQsRUFBUUssQ0FBUixFQUFXSixPQUFYLENBRnJCO0FBR0EsU0FBT0EsT0FBUDtBQUNEOztBQUVELFNBQVNPLFdBQVQsQ0FBcUJSLEtBQXJCLEVBQTRCO0FBQzFCLE1BQUlTLE1BQU0sR0FBRyxDQUFiO0FBQ0EsUUFBTVIsT0FBTyxHQUFHLElBQUlDLEdBQUosRUFBaEI7QUFDQVEsRUFBQUEsTUFBTSxDQUFDQyxJQUFQLENBQVlYLEtBQVosRUFBbUJPLE9BQW5CLENBQTJCRixDQUFDLElBQUk7QUFDOUIsUUFBSSxDQUFDSixPQUFPLENBQUNLLEdBQVIsQ0FBWUQsQ0FBWixDQUFMLEVBQXFCO0FBQ25CSSxNQUFBQSxNQUFNO0FBQ05WLE1BQUFBLEtBQUssQ0FBQ0MsS0FBRCxFQUFRSyxDQUFSLEVBQVdKLE9BQVgsQ0FBTDtBQUNEO0FBQ0YsR0FMRDtBQU1BLFNBQU9RLE1BQVA7QUFDRDs7QUFFTSxNQUFNRyxLQUFLLEdBQUdwQixLQUFLLElBQUlPLEtBQUssQ0FBQ1IsS0FBSyxDQUFDQyxLQUFELENBQU4sRUFBZSxHQUFmLENBQUwsQ0FBeUJxQixJQUFoRDs7OztBQUNBLE1BQU1DLEtBQUssR0FBR3RCLEtBQUssSUFBSWdCLFdBQVcsQ0FBQ2pCLEtBQUssQ0FBQ0MsS0FBRCxDQUFOLENBQWxDIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgcmV0dXJuIGlucHV0LnNwbGl0KCdcXG4nKS5yZWR1Y2UoKG9iaiwgbGluZSkgPT4ge1xuICAgIGNvbnN0IFtrZXksIG5laWdoYm9yc10gPSBsaW5lLnNwbGl0KCcgPC0+ICcpO1xuICAgIHJldHVybiB7IC4uLm9iaiwgW2tleV06IG5laWdoYm9ycy5zcGxpdCgnLCAnKSB9O1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGNvdW50KGdyYXBoLCBrZXksIHZpc2l0ZWQgPSBuZXcgU2V0KCkpIHtcbiAgdmlzaXRlZC5hZGQoa2V5KTtcbiAgZ3JhcGhba2V5XVxuICAgIC5maWx0ZXIoeCA9PiAhdmlzaXRlZC5oYXMoeCkpXG4gICAgLmZvckVhY2goeCA9PiBjb3VudChncmFwaCwgeCwgdmlzaXRlZCkpO1xuICByZXR1cm4gdmlzaXRlZDtcbn1cblxuZnVuY3Rpb24gY291bnRHcm91cHMoZ3JhcGgpIHtcbiAgbGV0IGdyb3VwcyA9IDA7XG4gIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gIE9iamVjdC5rZXlzKGdyYXBoKS5mb3JFYWNoKHggPT4ge1xuICAgIGlmICghdmlzaXRlZC5oYXMoeCkpIHtcbiAgICAgIGdyb3VwcysrO1xuICAgICAgY291bnQoZ3JhcGgsIHgsIHZpc2l0ZWQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBncm91cHM7XG59XG5cbmV4cG9ydCBjb25zdCBwYXJ0MSA9IGlucHV0ID0+IGNvdW50KHBhcnNlKGlucHV0KSwgJzAnKS5zaXplO1xuZXhwb3J0IGNvbnN0IHBhcnQyID0gaW5wdXQgPT4gY291bnRHcm91cHMocGFyc2UoaW5wdXQpKTtcbiJdfQ==