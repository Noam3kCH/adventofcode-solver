ca40688de6b022188c6a4fe359ad44e3
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part1 = part1;
exports.part2 = part2;
let options;

function calcOptions() {
  if (options) {
    return options;
  }

  const table = ` Weapons:    Cost  Damage  Armor
                  Dagger        8     4       0
                  Shortsword   10     5       0
                  Warhammer    25     6       0
                  Longsword    40     7       0
                  Greataxe     74     8       0

                  Armor:      Cost  Damage  Armor
                  Leather      13     0       1
                  Chainmail    31     0       2
                  Splintmail   53     0       3
                  Bandedmail   75     0       4
                  Platemail   102     0       5

                  Rings:      Cost  Damage  Armor
                  Damage +1    25     1       0
                  Damage +2    50     2       0
                  Damage +3   100     3       0
                  Defense +1   20     0       1
                  Defense +2   40     0       2
                  Defense +3   80     0       3`;
  const items = table.split('\n').filter(x => !x.match(/^\s*$/)).map(x => x.match(/^\s*([^:]+):?\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s*$/)).reduce((state, x) => {
    if (x[2] === 'Cost') {
      state.currentCategory = x[1].trim().toLowerCase();
      state[state.currentCategory] = [];
    } else {
      state[state.currentCategory].push({
        name: x[1].trim().toLowerCase(),
        cost: parseInt(x[2]),
        damage: parseInt(x[3]),
        armor: parseInt(x[4])
      });
    }

    return state;
  }, {});
  items.armor.push({
    name: 'nothing',
    cost: 0,
    damage: 0,
    armor: 0
  });
  items.rings.push({
    name: 'nothing',
    cost: 0,
    damage: 0,
    armor: 0
  });
  options = [];
  items.weapons.forEach(weapon => {
    items.armor.forEach(armor => {
      items.rings.forEach(ring1 => {
        items.rings.forEach(ring2 => {
          options.push([weapon, armor, ring1, ring2]);
        });
      });
    });
  });
  return options = options.map(x => x.reduce((sum, x) => ({
    cost: sum.cost + x.cost,
    damage: sum.damage + x.damage,
    armor: sum.armor + x.armor
  }))).sort((a, b) => a.cost - b.cost);
}

function parse(input) {
  const [hit, damage, armor] = input.match(/\d+/g).map(x => parseInt(x));
  return {
    hit,
    damage,
    armor
  };
}

function part1(input) {
  const boss = parse(input);
  const options = calcOptions();
  const win = options.filter(x => Math.ceil(100 / Math.max(1, boss.damage - x.armor)) >= Math.ceil(boss.hit / Math.max(1, x.damage - boss.armor)));
  return win.shift().cost;
}

function part2(input) {
  const boss = parse(input);
  const options = calcOptions();
  const lose = options.filter(x => Math.ceil(100 / Math.max(1, boss.damage - x.armor)) < Math.ceil(boss.hit / Math.max(1, x.damage - boss.armor)));
  return lose.pop().cost;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTIxLmpzIl0sIm5hbWVzIjpbIm9wdGlvbnMiLCJjYWxjT3B0aW9ucyIsInRhYmxlIiwiaXRlbXMiLCJzcGxpdCIsImZpbHRlciIsIngiLCJtYXRjaCIsIm1hcCIsInJlZHVjZSIsInN0YXRlIiwiY3VycmVudENhdGVnb3J5IiwidHJpbSIsInRvTG93ZXJDYXNlIiwicHVzaCIsIm5hbWUiLCJjb3N0IiwicGFyc2VJbnQiLCJkYW1hZ2UiLCJhcm1vciIsInJpbmdzIiwid2VhcG9ucyIsImZvckVhY2giLCJ3ZWFwb24iLCJyaW5nMSIsInJpbmcyIiwic3VtIiwic29ydCIsImEiLCJiIiwicGFyc2UiLCJpbnB1dCIsImhpdCIsInBhcnQxIiwiYm9zcyIsIndpbiIsIk1hdGgiLCJjZWlsIiwibWF4Iiwic2hpZnQiLCJwYXJ0MiIsImxvc2UiLCJwb3AiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFJQSxPQUFKOztBQUVBLFNBQVNDLFdBQVQsR0FBdUI7QUFDckIsTUFBSUQsT0FBSixFQUFhO0FBQ1gsV0FBT0EsT0FBUDtBQUNEOztBQUVELFFBQU1FLEtBQUssR0FBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0RBQWY7QUFzQkEsUUFBTUMsS0FBSyxHQUFHRCxLQUFLLENBQ2hCRSxLQURXLENBQ0wsSUFESyxFQUVYQyxNQUZXLENBRUpDLENBQUMsSUFBSSxDQUFDQSxDQUFDLENBQUNDLEtBQUYsQ0FBUSxPQUFSLENBRkYsRUFHWEMsR0FIVyxDQUdQRixDQUFDLElBQUlBLENBQUMsQ0FBQ0MsS0FBRixDQUFRLG9EQUFSLENBSEUsRUFJWEUsTUFKVyxDQUlKLENBQUNDLEtBQUQsRUFBUUosQ0FBUixLQUFjO0FBQ3BCLFFBQUlBLENBQUMsQ0FBQyxDQUFELENBQUQsS0FBUyxNQUFiLEVBQXFCO0FBQ25CSSxNQUFBQSxLQUFLLENBQUNDLGVBQU4sR0FBd0JMLENBQUMsQ0FBQyxDQUFELENBQUQsQ0FBS00sSUFBTCxHQUFZQyxXQUFaLEVBQXhCO0FBQ0FILE1BQUFB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QUNDLEdBQUwsR0FBVzFCLElBQWxCO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgb3B0aW9ucztcblxuZnVuY3Rpb24gY2FsY09wdGlvbnMoKSB7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICBjb25zdCB0YWJsZSA9IGAgV2VhcG9uczogICAgQ29zdCAgRGFtYWdlICBBcm1vclxuICAgICAgICAgICAgICAgICAgRGFnZ2VyICAgICAgICA4ICAgICA0ICAgICAgIDBcbiAgICAgICAgICAgICAgICAgIFNob3J0c3dvcmQgICAxMCAgICAgNSAgICAgICAwXG4gICAgICAgICAgICAgICAgICBXYXJoYW1tZXIgICAgMjUgICAgIDYgICAgICAgMFxuICAgICAgICAgICAgICAgICAgTG9uZ3N3b3JkICAgIDQwICAgICA3ICAgICAgIDBcbiAgICAgICAgICAgICAgICAgIEdyZWF0YXhlICAgICA3NCAgICAgOCAgICAgICAwXG5cbiAgICAgICAgICAgICAgICAgIEFybW9yOiAgICAgIENvc3QgIERhbWFnZSAgQXJtb3JcbiAgICAgICAgICAgICAgICAgIExlYXRoZXIgICAgICAxMyAgICAgMCAgICAgICAxXG4gICAgICAgICAgICAgICAgICBDaGFpbm1haWwgICAgMzEgICAgIDAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgU3BsaW50bWFpbCAgIDUzICAgICAwICAgICAgIDNcbiAgICAgICAgICAgICAgICAgIEJhbmRlZG1haWwgICA3NSAgICAgMCAgICAgICA0XG4gICAgICAgICAgICAgICAgICBQbGF0ZW1haWwgICAxMDIgICAgIDAgICAgICAgNVxuXG4gICAgICAgICAgICAgICAgICBSaW5nczogICAgICBDb3N0ICBEYW1hZ2UgIEFybW9yXG4gICAgICAgICAgICAgICAgICBEYW1hZ2UgKzEgICAgMjUgICAgIDEgICAgICAgMFxuICAgICAgICAgICAgICAgICAgRGFtYWdlICsyICAgIDUwICAgICAyICAgICAgIDBcbiAgICAgICAgICAgICAgICAgIERhbWFnZSArMyAgIDEwMCAgICAgMyAgICAgICAwXG4gICAgICAgICAgICAgICAgICBEZWZlbnNlICsxICAgMjAgICAgIDAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgRGVmZW5zZSArMiAgIDQwICAgICAwICAgICAgIDJcbiAgICAgICAgICAgICAgICAgIERlZmVuc2UgKzMgICA4MCAgICAgMCAgICAgICAzYDtcblxuICBjb25zdCBpdGVtcyA9IHRhYmxlXG4gICAgLnNwbGl0KCdcXG4nKVxuICAgIC5maWx0ZXIoeCA9PiAheC5tYXRjaCgvXlxccyokLykpXG4gICAgLm1hcCh4ID0+IHgubWF0Y2goL15cXHMqKFteOl0rKTo/XFxzKyhbXlxcc10rKVxccysoW15cXHNdKylcXHMrKFteXFxzXSspXFxzKiQvKSlcbiAgICAucmVkdWNlKChzdGF0ZSwgeCkgPT4ge1xuICAgICAgaWYgKHhbMl0gPT09ICdDb3N0Jykge1xuICAgICAgICBzdGF0ZS5jdXJyZW50Q2F0ZWdvcnkgPSB4WzFdLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50Q2F0ZWdvcnldID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50Q2F0ZWdvcnldLnB1c2goe1xuICAgICAgICAgIG5hbWU6IHhbMV0udHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgY29zdDogcGFyc2VJbnQoeFsyXSksXG4gICAgICAgICAgZGFtYWdlOiBwYXJzZUludCh4WzNdKSxcbiAgICAgICAgICBhcm1vcjogcGFyc2VJbnQoeFs0XSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sIHt9KTtcblxuICBpdGVtcy5hcm1vci5wdXNoKHsgbmFtZTogJ25vdGhpbmcnLCBjb3N0OiAwLCBkYW1hZ2U6IDAsIGFybW9yOiAwIH0pO1xuICBpdGVtcy5yaW5ncy5wdXNoKHsgbmFtZTogJ25vdGhpbmcnLCBjb3N0OiAwLCBkYW1hZ2U6IDAsIGFybW9yOiAwIH0pO1xuXG4gIG9wdGlvbnMgPSBbXTtcblxuICBpdGVtcy53ZWFwb25zLmZvckVhY2god2VhcG9uID0+IHtcbiAgICBpdGVtcy5hcm1vci5mb3JFYWNoKGFybW9yID0+IHtcbiAgICAgIGl0ZW1zLnJpbmdzLmZvckVhY2gocmluZzEgPT4ge1xuICAgICAgICBpdGVtcy5yaW5ncy5mb3JFYWNoKHJpbmcyID0+IHtcbiAgICAgICAgICBvcHRpb25zLnB1c2goW3dlYXBvbiwgYXJtb3IsIHJpbmcxLCByaW5nMl0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gKG9wdGlvbnMgPSBvcHRpb25zXG4gICAgLm1hcCh4ID0+XG4gICAgICB4LnJlZHVjZSgoc3VtLCB4KSA9PiAoe1xuICAgICAgICBjb3N0OiBzdW0uY29zdCArIHguY29zdCxcbiAgICAgICAgZGFtYWdlOiBzdW0uZGFtYWdlICsgeC5kYW1hZ2UsXG4gICAgICAgIGFybW9yOiBzdW0uYXJtb3IgKyB4LmFybW9yLFxuICAgICAgfSkpLFxuICAgIClcbiAgICAuc29ydCgoYSwgYikgPT4gYS5jb3N0IC0gYi5jb3N0KSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7XG4gIGNvbnN0IFtoaXQsIGRhbWFnZSwgYXJtb3JdID0gaW5wdXQubWF0Y2goL1xcZCsvZykubWFwKHggPT4gcGFyc2VJbnQoeCkpO1xuICByZXR1cm4geyBoaXQsIGRhbWFnZSwgYXJtb3IgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnQxKGlucHV0KSB7XG4gIGNvbnN0IGJvc3MgPSBwYXJzZShpbnB1dCk7XG4gIGNvbnN0IG9wdGlvbnMgPSBjYWxjT3B0aW9ucygpO1xuICBjb25zdCB3aW4gPSBvcHRpb25zLmZpbHRlcihcbiAgICB4ID0+XG4gICAgICBNYXRoLmNlaWwoMTAwIC8gTWF0aC5tYXgoMSwgYm9zcy5kYW1hZ2UgLSB4LmFybW9yKSkgPj1cbiAgICAgIE1hdGguY2VpbChib3NzLmhpdCAvIE1hdGgubWF4KDEsIHguZGFtYWdlIC0gYm9zcy5hcm1vcikpLFxuICApO1xuICByZXR1cm4gd2luLnNoaWZ0KCkuY29zdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnQyKGlucHV0KSB7XG4gIGNvbnN0IGJvc3MgPSBwYXJzZShpbnB1dCk7XG4gIGNvbnN0IG9wdGlvbnMgPSBjYWxjT3B0aW9ucygpO1xuICBjb25zdCBsb3NlID0gb3B0aW9ucy5maWx0ZXIoXG4gICAgeCA9PlxuICAgICAgTWF0aC5jZWlsKDEwMCAvIE1hdGgubWF4KDEsIGJvc3MuZGFtYWdlIC0geC5hcm1vcikpIDxcbiAgICAgIE1hdGguY2VpbChib3NzLmhpdCAvIE1hdGgubWF4KDEsIHguZGFtYWdlIC0gYm9zcy5hcm1vcikpLFxuICApO1xuICByZXR1cm4gbG9zZS5wb3AoKS5jb3N0O1xufVxuIl19