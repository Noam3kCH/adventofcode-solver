8aa53efec1ffeacbeff98958100c3063
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part1 = part1;
exports.part2 = void 0;

function toReducer(str) {
  const params = str.split(/\s+/);
  const ops = {
    cpy: (src, register) => state => state[register] = state[src] === undefined ? parseInt(src) : state[src],
    inc: register => state => state[register]++,
    dec: register => state => state[register]--,
    jnz: (register, distance) => state => {
      if (state[register] !== undefined && state[register] !== 0 || state[register] === undefined && register !== '0') {
        distance = state[distance] === undefined ? parseInt(distance) : state[distance];
        state.index += distance - 1;
      }
    },
    out: register => state => state.out += state[register]
  };
  const cmd = ops[params.shift()](...params);
  return state => {
    cmd(state);
    state.index++;
  };
}

function run(commands, state) {
  while (commands.length > state.index && state.out.length < 100) {
    commands[state.index](state);
  }

  return state;
}

function part1(input) {
  const commands = input.split('\n').map(toReducer);
  let a = 0;

  while (run(commands, {
    a,
    b: 0,
    c: 0,
    d: 0,
    index: 0,
    out: ''
  }).out !== '0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101') {
    a++;
  }

  return a;
}

const part2 = () => undefined;

exports.part2 = part2;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTI1LmpzIl0sIm5hbWVzIjpbInRvUmVkdWNlciIsInN0ciIsInBhcmFtcyIsInNwbGl0Iiwib3BzIiwiY3B5Iiwic3JjIiwicmVnaXN0ZXIiLCJzdGF0ZSIsInVuZGVmaW5lZCIsInBhcnNlSW50IiwiaW5jIiwiZGVjIiwiam56IiwiZGlzdGFuY2UiLCJpbmRleCIsIm91dCIsImNtZCIsInNoaWZ0IiwicnVuIiwiY29tbWFuZHMiLCJsZW5ndGgiLCJwYXJ0MSIsImlucHV0IiwibWFwIiwiYSIsImIiLCJjIiwiZCIsInBhcnQyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLFNBQVNBLFNBQVQsQ0FBbUJDLEdBQW5CLEVBQXdCO0FBQ3RCLFFBQU1DLE1BQU0sR0FBR0QsR0FBRyxDQUFDRSxLQUFKLENBQVUsS0FBVixDQUFmO0FBQ0EsUUFBTUMsR0FBRyxHQUFHO0FBQ1ZDLElBQUFBLEdBQUcsRUFBRSxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBbUJDLEtBQUssSUFDMUJBLEtBQUssQ0FBQ0QsUUFBRCxDQUFMLEdBQWtCQyxLQUFLLENBQUNGLEdBQUQsQ0FBTCxLQUFlRyxTQUFmLEdBQTJCQyxRQUFRLENBQUNKLEdBQUQsQ0FBbkMsR0FBMkNFLEtBQUssQ0FBQ0YsR0FBRCxDQUYzRDtBQUdWSyxJQUFBQSxHQUFHLEVBQUVKLFFBQVEsSUFBSUMsS0FBSyxJQUFJQSxLQUFLLENBQUNELFFBQUQsQ0FBTCxFQUhoQjtBQUlWSyxJQUFBQSxHQUFHLEVBQUVMLFFBQVEsSUFBSUMsS0FBSyxJQUFJQSxLQUFLLENBQUNELFFBQUQsQ0FBTCxFQUpoQjtBQUtWTSxJQUFBQSxHQUFHLEVBQUUsQ0FBQ04sUUFBRCxFQUFXTyxRQUFYLEtBQXdCTixLQUFLLElBQUk7QUFDcEMsVUFDR0EsS0FBSyxDQUFDRCxRQUFELENBQUwsS0FBb0JFLFNBQXBCLElBQWlDRCxLQUFLLENBQUNELFFBQUQsQ0FBTCxLQUFvQixDQUF0RCxJQUNDQyxLQUFLLENBQUNELFFBQUQsQ0FBTCxLQUFvQkUsU0FBcEIsSUFBaUNGLFFBQVEsS0FBSyxHQUZqRCxFQUdFO0FBQ0FPLFFBQUFBLFFBQVEsR0FDTk4sS0FBSyxDQUFDTSxRQUFELENBQUwsS0FBb0JMLFNBQXBCLEdBQWdDQyxRQUFRLENBQUNJLFFBQUQsQ0FBeEMsR0FBcUROLEtBQUssQ0FBQ00sUUFBRCxDQUQ1RDtBQUVBTixRQUFBQSxLQUFLLENBQUNPLEtBQU4sSUFBZUQsUUFBUSxHQUFHLENBQTFCO0FBQ0Q7QUFDRixLQWRTO0FBZVZFLElBQUFBLEdBQUcsRUFBRVQsUUFBUSxJQUFJQyxLQUFLLElBQUtBLEtBQUssQ0FBQ1EsR0FBTixJQUFhUixLQUFLLENBQUNELFFBQUQ7QUFmbkMsR0FBWjtBQWlCQSxRQUFNVSxHQUFHLEdBQUdiLEdBQUcsQ0FBQ0YsTUFBTSxDQUFDZ0IsS0FBUCxFQUFELENBQUgsQ0FBb0IsR0FBR2hCLE1BQXZCLENBQVo7QUFDQSxTQUFPTSxLQUFLLElBQUk7QUFDZFMsSUFBQUEsR0FBRyxDQUFDVCxLQUFELENBQUg7QUFDQUEsSUFBQUEsS0FBSyxDQUFDTyxLQUFOO0FBQ0QsR0FIRDtBQUlEOztBQUVELFNBQVNJLEdBQVQsQ0FBYUMsUUFBYixFQUF1QlosS0FBdkIsRUFBOEI7QUFDNUIsU0FBT1ksUUFBUSxDQUFDQyxNQUFULEdBQWtCYixLQUFLLENBQUNPLEtBQXhCLElBQWlDUCxLQUFLLENBQUNRLEdBQU4sQ0FBVUssTUFBVixHQUFtQixHQUEzRCxFQUFnRTtBQUM5REQsSUFBQUEsUUFBUSxDQUFDWixLQUFLLENBQUNPLEtBQVAsQ0FBUixDQUFzQlAsS0FBdEI7QUFDRDs7QUFDRCxTQUFPQSxLQUFQO0FBQ0Q7O0FBRU0sU0FBU2MsS0FBVCxDQUFlQyxLQUFmLEVBQXNCO0FBQzNCLFFBQU1ILFFBQVEsR0FBR0csS0FBSyxDQUFDcEIsS0FBTixDQUFZLElBQVosRUFBa0JxQixHQUFsQixDQUFzQnhCLFNBQXRCLENBQWpCO0FBQ0EsTUFBSXlCLENBQUMsR0FBRyxDQUFSOztBQUNBLFNBQ0VOLEdBQUcsQ0FBQ0MsUUFBRCxFQUFXO0FBQUVLLElBQUFBLENBQUY7QUFBS0MsSUFBQUEsQ0FBQyxFQUFFLENBQVI7QUFBV0MsSUFBQUEsQ0FBQyxFQUFFLENBQWQ7QUFBaUJDLElBQUFBLENBQUMsRUFBRSxDQUFwQjtBQUF1QmIsSUFBQUEsS0FBSyxFQUFFLENBQTlCO0FBQWlDQyxJQUFBQSxHQUFHLEVBQUU7QUFBdEMsR0FBWCxDQUFILENBQTBEQSxHQUExRCxLQUNBLHNHQUZGLEVBR0U7QUFDQVMsSUFBQUEsQ0FBQztBQUNGOztBQUNELFNBQU9BLENBQVA7QUFDRDs7QUFFTSxNQUFNSSxLQUFLLEdBQUcsTUFBTXBCLFNBQXBCIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdG9SZWR1Y2VyKHN0cikge1xuICBjb25zdCBwYXJhbXMgPSBzdHIuc3BsaXQoL1xccysvKTtcbiAgY29uc3Qgb3BzID0ge1xuICAgIGNweTogKHNyYywgcmVnaXN0ZXIpID0+IHN0YXRlID0+XG4gICAgICAoc3RhdGVbcmVnaXN0ZXJdID0gc3RhdGVbc3JjXSA9PT0gdW5kZWZpbmVkID8gcGFyc2VJbnQoc3JjKSA6IHN0YXRlW3NyY10pLFxuICAgIGluYzogcmVnaXN0ZXIgPT4gc3RhdGUgPT4gc3RhdGVbcmVnaXN0ZXJdKyssXG4gICAgZGVjOiByZWdpc3RlciA9PiBzdGF0ZSA9PiBzdGF0ZVtyZWdpc3Rlcl0tLSxcbiAgICBqbno6IChyZWdpc3RlciwgZGlzdGFuY2UpID0+IHN0YXRlID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgKHN0YXRlW3JlZ2lzdGVyXSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlW3JlZ2lzdGVyXSAhPT0gMCkgfHxcbiAgICAgICAgKHN0YXRlW3JlZ2lzdGVyXSA9PT0gdW5kZWZpbmVkICYmIHJlZ2lzdGVyICE9PSAnMCcpXG4gICAgICApIHtcbiAgICAgICAgZGlzdGFuY2UgPVxuICAgICAgICAgIHN0YXRlW2Rpc3RhbmNlXSA9PT0gdW5kZWZpbmVkID8gcGFyc2VJbnQoZGlzdGFuY2UpIDogc3RhdGVbZGlzdGFuY2VdO1xuICAgICAgICBzdGF0ZS5pbmRleCArPSBkaXN0YW5jZSAtIDE7XG4gICAgICB9XG4gICAgfSxcbiAgICBvdXQ6IHJlZ2lzdGVyID0+IHN0YXRlID0+IChzdGF0ZS5vdXQgKz0gc3RhdGVbcmVnaXN0ZXJdKSxcbiAgfTtcbiAgY29uc3QgY21kID0gb3BzW3BhcmFtcy5zaGlmdCgpXSguLi5wYXJhbXMpO1xuICByZXR1cm4gc3RhdGUgPT4ge1xuICAgIGNtZChzdGF0ZSk7XG4gICAgc3RhdGUuaW5kZXgrKztcbiAgfTtcbn1cblxuZnVuY3Rpb24gcnVuKGNvbW1hbmRzLCBzdGF0ZSkge1xuICB3aGlsZSAoY29tbWFuZHMubGVuZ3RoID4gc3RhdGUuaW5kZXggJiYgc3RhdGUub3V0Lmxlbmd0aCA8IDEwMCkge1xuICAgIGNvbW1hbmRzW3N0YXRlLmluZGV4XShzdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydDEoaW5wdXQpIHtcbiAgY29uc3QgY29tbWFuZHMgPSBpbnB1dC5zcGxpdCgnXFxuJykubWFwKHRvUmVkdWNlcik7XG4gIGxldCBhID0gMDtcbiAgd2hpbGUgKFxuICAgIHJ1bihjb21tYW5kcywgeyBhLCBiOiAwLCBjOiAwLCBkOiAwLCBpbmRleDogMCwgb3V0OiAnJyB9KS5vdXQgIT09XG4gICAgJzAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEnXG4gICkge1xuICAgIGErKztcbiAgfVxuICByZXR1cm4gYTtcbn1cblxuZXhwb3J0IGNvbnN0IHBhcnQyID0gKCkgPT4gdW5kZWZpbmVkO1xuIl19