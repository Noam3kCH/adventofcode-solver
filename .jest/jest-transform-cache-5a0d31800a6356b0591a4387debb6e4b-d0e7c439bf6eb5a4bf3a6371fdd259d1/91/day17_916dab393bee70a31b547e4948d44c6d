0e94c9b8c9ba8193eb870955f99ddd74
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.part1 = part1;
exports.part2 = part2;

function add1({
  steps,
  current,
  state
}, number) {
  current = (current + steps) % number + 1;
  state.splice(current, 0, number);
  return {
    steps,
    current,
    state
  };
}

function part1(input, lookFor = 2017) {
  let spinner = {
    steps: parseInt(input),
    current: 0,
    state: [0]
  };

  for (let i = 1; i <= 2017; i++) {
    spinner = add1(spinner, i);
  }

  return spinner.state[(spinner.state.indexOf(lookFor) + 1) % spinner.state.length];
}

function add2({
  steps,
  current,
  zeroPosition,
  result
}, number) {
  current = (current + steps) % number + 1;

  if (current === zeroPosition + 1) {
    result = number;
  } else if (current <= zeroPosition) {
    zeroPosition++;
  }

  return {
    steps,
    current,
    zeroPosition,
    result
  };
}

function part2(input, times = 5e7) {
  let spinner = {
    steps: parseInt(input),
    current: 0,
    zeroPosition: 0,
    result: undefined
  };

  for (let i = 1; i <= times; i++) {
    spinner = add2(spinner, i);
  }

  return spinner.result;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRheTE3LmpzIl0sIm5hbWVzIjpbImFkZDEiLCJzdGVwcyIsImN1cnJlbnQiLCJzdGF0ZSIsIm51bWJlciIsInNwbGljZSIsInBhcnQxIiwiaW5wdXQiLCJsb29rRm9yIiwic3Bpbm5lciIsInBhcnNlSW50IiwiaSIsImluZGV4T2YiLCJsZW5ndGgiLCJhZGQyIiwiemVyb1Bvc2l0aW9uIiwicmVzdWx0IiwicGFydDIiLCJ0aW1lcyIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxTQUFTQSxJQUFULENBQWM7QUFBRUMsRUFBQUEsS0FBRjtBQUFTQyxFQUFBQSxPQUFUO0FBQWtCQyxFQUFBQTtBQUFsQixDQUFkLEVBQXlDQyxNQUF6QyxFQUFpRDtBQUMvQ0YsRUFBQUEsT0FBTyxHQUFJLENBQUNBLE9BQU8sR0FBR0QsS0FBWCxJQUFvQkcsTUFBckIsR0FBK0IsQ0FBekM7QUFDQUQsRUFBQUEsS0FBSyxDQUFDRSxNQUFOLENBQWFILE9BQWIsRUFBc0IsQ0FBdEIsRUFBeUJFLE1BQXpCO0FBQ0EsU0FBTztBQUFFSCxJQUFBQSxLQUFGO0FBQVNDLElBQUFBLE9BQVQ7QUFBa0JDLElBQUFBO0FBQWxCLEdBQVA7QUFDRDs7QUFFTSxTQUFTRyxLQUFULENBQWVDLEtBQWYsRUFBc0JDLE9BQU8sR0FBRyxJQUFoQyxFQUFzQztBQUMzQyxNQUFJQyxPQUFPLEdBQUc7QUFDWlIsSUFBQUEsS0FBSyxFQUFFUyxRQUFRLENBQUNILEtBQUQsQ0FESDtBQUVaTCxJQUFBQSxPQUFPLEVBQUUsQ0FGRztBQUdaQyxJQUFBQSxLQUFLLEVBQUUsQ0FBQyxDQUFEO0FBSEssR0FBZDs7QUFLQSxPQUFLLElBQUlRLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLElBQUksSUFBckIsRUFBMkJBLENBQUMsRUFBNUIsRUFBZ0M7QUFDOUJGLElBQUFBLE9BQU8sR0FBR1QsSUFBSSxDQUFDUyxPQUFELEVBQVVFLENBQVYsQ0FBZDtBQUNEOztBQUNELFNBQU9GLE9BQU8sQ0FBQ04sS0FBUixDQUNMLENBQUNNLE9BQU8sQ0FBQ04sS0FBUixDQUFjUyxPQUFkLENBQXNCSixPQUF0QixJQUFpQyxDQUFsQyxJQUF1Q0MsT0FBTyxDQUFDTixLQUFSLENBQWNVLE1BRGhELENBQVA7QUFHRDs7QUFFRCxTQUFTQyxJQUFULENBQWM7QUFBRWIsRUFBQUEsS0FBRjtBQUFTQyxFQUFBQSxPQUFUO0FBQWtCYSxFQUFBQSxZQUFsQjtBQUFnQ0MsRUFBQUE7QUFBaEMsQ0FBZCxFQUF3RFosTUFBeEQsRUFBZ0U7QUFDOURGLEVBQUFBLE9BQU8sR0FBSSxDQUFDQSxPQUFPLEdBQUdELEtBQVgsSUFBb0JHLE1BQXJCLEdBQStCLENBQXpDOztBQUNBLE1BQUlGLE9BQU8sS0FBS2EsWUFBWSxHQUFHLENBQS9CLEVBQWtDO0FBQ2hDQyxJQUFBQSxNQUFNLEdBQUdaLE1BQVQ7QUFDRCxHQUZELE1BRU8sSUFBSUYsT0FBTyxJQUFJYSxZQUFmLEVBQTZCO0FBQ2xDQSxJQUFBQSxZQUFZO0FBQ2I7O0FBQ0QsU0FBTztBQUFFZCxJQUFBQSxLQUFGO0FBQVNDLElBQUFBLE9BQVQ7QUFBa0JhLElBQUFBLFlBQWxCO0FBQWdDQyxJQUFBQTtBQUFoQyxHQUFQO0FBQ0Q7O0FBRU0sU0FBU0MsS0FBVCxDQUFlVixLQUFmLEVBQXNCVyxLQUFLLEdBQUcsR0FBOUIsRUFBbUM7QUFDeEMsTUFBSVQsT0FBTyxHQUFHO0FBQ1pSLElBQUFBLEtBQUssRUFBRVMsUUFBUSxDQUFDSCxLQUFELENBREg7QUFFWkwsSUFBQUEsT0FBTyxFQUFFLENBRkc7QUFHWmEsSUFBQUEsWUFBWSxFQUFFLENBSEY7QUFJWkMsSUFBQUEsTUFBTSxFQUFFRztBQUpJLEdBQWQ7O0FBTUEsT0FBSyxJQUFJUixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxJQUFJTyxLQUFyQixFQUE0QlAsQ0FBQyxFQUE3QixFQUFpQztBQUMvQkYsSUFBQUEsT0FBTyxHQUFHSyxJQUFJLENBQUNMLE9BQUQsRUFBVUUsQ0FBVixDQUFkO0FBQ0Q7O0FBQ0QsU0FBT0YsT0FBTyxDQUFDTyxNQUFmO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBhZGQxKHsgc3RlcHMsIGN1cnJlbnQsIHN0YXRlIH0sIG51bWJlcikge1xuICBjdXJyZW50ID0gKChjdXJyZW50ICsgc3RlcHMpICUgbnVtYmVyKSArIDE7XG4gIHN0YXRlLnNwbGljZShjdXJyZW50LCAwLCBudW1iZXIpO1xuICByZXR1cm4geyBzdGVwcywgY3VycmVudCwgc3RhdGUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnQxKGlucHV0LCBsb29rRm9yID0gMjAxNykge1xuICBsZXQgc3Bpbm5lciA9IHtcbiAgICBzdGVwczogcGFyc2VJbnQoaW5wdXQpLFxuICAgIGN1cnJlbnQ6IDAsXG4gICAgc3RhdGU6IFswXSxcbiAgfTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMjAxNzsgaSsrKSB7XG4gICAgc3Bpbm5lciA9IGFkZDEoc3Bpbm5lciwgaSk7XG4gIH1cbiAgcmV0dXJuIHNwaW5uZXIuc3RhdGVbXG4gICAgKHNwaW5uZXIuc3RhdGUuaW5kZXhPZihsb29rRm9yKSArIDEpICUgc3Bpbm5lci5zdGF0ZS5sZW5ndGhcbiAgXTtcbn1cblxuZnVuY3Rpb24gYWRkMih7IHN0ZXBzLCBjdXJyZW50LCB6ZXJvUG9zaXRpb24sIHJlc3VsdCB9LCBudW1iZXIpIHtcbiAgY3VycmVudCA9ICgoY3VycmVudCArIHN0ZXBzKSAlIG51bWJlcikgKyAxO1xuICBpZiAoY3VycmVudCA9PT0gemVyb1Bvc2l0aW9uICsgMSkge1xuICAgIHJlc3VsdCA9IG51bWJlcjtcbiAgfSBlbHNlIGlmIChjdXJyZW50IDw9IHplcm9Qb3NpdGlvbikge1xuICAgIHplcm9Qb3NpdGlvbisrO1xuICB9XG4gIHJldHVybiB7IHN0ZXBzLCBjdXJyZW50LCB6ZXJvUG9zaXRpb24sIHJlc3VsdCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFydDIoaW5wdXQsIHRpbWVzID0gNWU3KSB7XG4gIGxldCBzcGlubmVyID0ge1xuICAgIHN0ZXBzOiBwYXJzZUludChpbnB1dCksXG4gICAgY3VycmVudDogMCxcbiAgICB6ZXJvUG9zaXRpb246IDAsXG4gICAgcmVzdWx0OiB1bmRlZmluZWQsXG4gIH07XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHRpbWVzOyBpKyspIHtcbiAgICBzcGlubmVyID0gYWRkMihzcGlubmVyLCBpKTtcbiAgfVxuICByZXR1cm4gc3Bpbm5lci5yZXN1bHQ7XG59XG4iXX0=